<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 1 R functions | Introduction to (Bio)Statistics</title>
<meta name="author" content="Jo Hardin">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.7.6/header-attrs.js"></script><script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.4.9000/tabs.js"></script><script src="libs/bs3compat-0.2.4.9000/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script type="text/x-mathjax-config">
    const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
    for (let popover of popovers){
      const div = document.createElement('div');
      div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
      div.innerHTML = popover.getAttribute('data-content');
      
      // Will this work with TeX on its own line?
      var has_math = div.querySelector("span.math");
      if (has_math) {
        document.body.appendChild(div);
      	MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
      	MathJax.Hub.Queue(function(){
          popover.setAttribute('data-content', div.innerHTML);
      	})
      }
    }
    </script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS --><link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Introduction to (Bio)Statistics</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Class Information</a></li>
<li><a class="active" href="rfunc.html"><span class="header-section-number">1</span> R functions</a></li>
<li><a class="" href="intro.html"><span class="header-section-number">2</span> Introduction</a></li>
<li><a class="" href="regdesc.html"><span class="header-section-number">3</span> Correlation &amp; Regression as Models</a></li>
<li><a class="" href="foundations-for-inference.html"><span class="header-section-number">4</span> Foundations for Inference</a></li>
<li><a class="" href="inference-for-categorical-data.html"><span class="header-section-number">5</span> Inference for categorical data</a></li>
<li><a class="" href="interlude-in-spring-2020.html"><span class="header-section-number">6</span> Interlude in Spring 2020</a></li>
<li><a class="" href="inference-for-numerical-data.html"><span class="header-section-number">7</span> Inference for numerical data</a></li>
<li><a class="" href="reginf.html"><span class="header-section-number">8</span> Inference on Correlation &amp; Regression</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/hardin47/website">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="rfunc" class="section level1" number="1">
<h1>
<span class="header-section-number">1</span> R functions<a class="anchor" aria-label="anchor" href="#rfunc"><i class="fas fa-link"></i></a>
</h1>
<p>To help us navigate / remember when to use what, the following sections consolidate some of the R functions used in class and on assignments.</p>
<div id="applets" class="section level2" number="1.1">
<h2>
<span class="header-section-number">1.1</span> Applets<a class="anchor" aria-label="anchor" href="#applets"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li><p>The main source of in-class applets has come from <span class="citation"><a href="references.html#ref-iscam" role="doc-biblioref">Chance and Rossman</a> (<a href="references.html#ref-iscam" role="doc-biblioref">2018</a>)</span> and can be found: <a href="http://www.rossmanchance.com/applets/index2021.html" class="uri">http://www.rossmanchance.com/applets/index2021.html</a></p></li>
<li><p>We also use the RR/OR applet by Ken Kleinman at: <a href="https://kenkleinman.shinyapps.io/odds-tool/" class="uri">https://kenkleinman.shinyapps.io/odds-tool/</a></p></li>
</ul>
</div>
<div id="data-structure" class="section level2" number="1.2">
<h2>
<span class="header-section-number">1.2</span> Data Structure<a class="anchor" aria-label="anchor" href="#data-structure"><i class="fas fa-link"></i></a>
</h2>
<p>Always, it is important to understand the format of the data. For example, how many rows (observational units)? How many columns (variables)? Are the variables numbers or categories? There are many ways to see the data, and it is highly recommended that you <strong>regularly</strong> check back to remind yourself of the data structure.</p>
<ul>
<li>
<code>glimpse()</code> prints the data with variable types (but makes the columns into rows)</li>
<li>
<code><a href="https://rdrr.io/r/base/names.html">names()</a></code> prints the column (variable) names</li>
<li>
<code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> is like <code>glimpse()</code> but provides a little more information about the structure of the dataframe</li>
<li>
<code><a href="https://rdrr.io/r/utils/head.html">head()</a></code> prints the first few rows of the dataframe (<code><a href="https://rdrr.io/r/utils/head.html">tail()</a></code> prints the last few rows)</li>
<li>click on the “environment” tab, then click on the name of the dataframe to see the data in the console</li>
</ul>
</div>
<div id="wrangling" class="section level2" number="1.3">
<h2>
<span class="header-section-number">1.3</span> Wrangling<a class="anchor" aria-label="anchor" href="#wrangling"><i class="fas fa-link"></i></a>
</h2>
<p>Data wrangling is used when working to change data in one format to another. We have regularly used the pipe function (<code><a href="https://infer.tidymodels.org/reference/pipe.html">%&gt;%</a></code>) to layer commands. Data wrangling will be an even bigger part of the data analysis pipeline when we start to work with continuous variables (e.g., height).</p>
<p>The pipe syntax (<code><a href="https://infer.tidymodels.org/reference/pipe.html">%&gt;%</a></code>) takes a data frame (or data table) and sends it to the argument of a function. The mapping goes to the first available argument in the function. For example:</p>
<p><code>x %&gt;% f(y)</code> is the same as <code>f(x, y)</code></p>
<p><code>y %&gt;% f(x, ., z)</code> is the same as <code>f(x,y,z)</code></p>
<ul>
<li><p>A great source of help is the data wrangling cheatsheet here: <a href="https://rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf" class="uri">https://rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf</a></p></li>
<li>
<p><strong>Data verbs take data tables as input and give data tables as output (that’s how we can use the chaining syntax!).</strong> The functions below are from the R package dplyr, and they will be used to do much of the data wrangling. Below is a list of verbs which will be helpful in wrangling many different types of data.</p>
<ul>
<li>
<code>sample_n()</code> take a random row(s)</li>
<li>
<code><a href="https://rdrr.io/r/utils/head.html">head()</a></code> grab the first few rows</li>
<li>
<code><a href="https://rdrr.io/r/utils/head.html">tail()</a></code> grab the last few rows</li>
<li>
<code><a href="https://rdrr.io/r/stats/filter.html">filter()</a></code> removes unwanted <em>cases</em>
</li>
<li>
<code>arrange()</code> reorders the cases</li>
<li>
<code>select()</code> removes unwanted <em>variables</em> (and <code>rename()</code>)</li>
<li>
<code>distinct()</code> returns the unique values in a table</li>
<li>
<code>mutate()</code> transforms the variable (and <code>transmute()</code> like mutate, returns only new variables)</li>
<li>
<code>group_by()</code> tells R that SUCCESSIVE functions keep in mind that there are groups of items. So <code>group_by()</code> only makes sense with verbs later on (like <code>summarize()</code>).</li>
<li>
<code>summarize()</code> collapses a data frame to a single row. Some functions that are used within <code>summarize()</code> include:
<ul>
<li>
<code>min(), max(), mean(), sum(), sd(), median()</code>, and <code><a href="https://projectmosaic.github.io/mosaic/reference/aggregating.html">IQR()</a></code>
</li>
<li>
<code>n()</code>: number of observations in the current group</li>
<li>
<code>n_distinct(x)</code>: count the number of unique values in the variable (column) called <code>x</code>
</li>
<li>
<code>first_value(x), last_value(x)</code> and <code>nth_value(x, n)</code>: work similarly to <code>x[1], x[length(x)]</code>, and <code>x[n]</code>
</li>
</ul>
</li>
</ul>
</li>
<li><p>If you happen to be using a function that exists in the dplyr package and in a different package, you’ll want to tell the computer where to find the appropriate function. For example, <code><a href="https://dplyr.tidyverse.org/reference/filter.html">dplyr::filter()</a></code>.</p></li>
</ul>
</div>
<div id="plotting" class="section level2" number="1.4">
<h2>
<span class="header-section-number">1.4</span> Plotting<a class="anchor" aria-label="anchor" href="#plotting"><i class="fas fa-link"></i></a>
</h2>
<p>The R package ggplot2 will be used for all visualizations. Remember that the layers of a plot are put together with the <code><a href="https://rdrr.io/r/base/Arithmetic.html">+</a></code> symbol (instead of the <code><a href="https://infer.tidymodels.org/reference/pipe.html">%&gt;%</a></code> command).</p>
<ul>
<li><p>A great source of help is the data visualization cheatsheet here: <a href="https://rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf" class="uri">https://rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf</a></p></li>
<li><p>Each plot starts with <code>ggplot(data)</code> and then adds layers. The minimal additional layer is a <code>geom_XXX()</code> layer which describes the geometry of the plot.</p></li>
<li>
<p>Some things to notice:</p>
<ul>
<li>when layering graph pieces, use <code><a href="https://rdrr.io/r/base/Arithmetic.html">+</a></code>. (When layering data wrangling, use <code><a href="https://infer.tidymodels.org/reference/pipe.html">%&gt;%</a></code>.)</li>
<li>
<code>geom_XXX()</code> will put the <code>XXX</code>-type-of-plot onto the graph.</li>
<li>
<code>aes()</code> is the function which takes the <strong>data columns</strong> and puts them onto the graph. <code>aes()</code> is used only with data columns and you <em>always</em> need it if you are working with data variables.</li>
<li>A full set of types of plots is given here: <a href="https://rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf" class="uri">https://rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf</a> (and in many other places online).</li>
</ul>
</li>
<li><p>If you happen to be using a function that exists in the ggplot2 package and in a different package, you’ll want to tell the computer where to find the appropriate function. For example, <code><a href="https://ggplot2.tidyverse.org/reference/lims.html">ggplot2::xlim()</a></code>.</p></li>
</ul>
</div>
<div id="statistical-inference" class="section level2" number="1.5">
<h2>
<span class="header-section-number">1.5</span> Statistical Inference<a class="anchor" aria-label="anchor" href="#statistical-inference"><i class="fas fa-link"></i></a>
</h2>
<p>The main simulation tools we have used for creating null distributions come from the R package infer.</p>
<ul>
<li>
There are many examples available on the infer vignette page: <a href="https://infer-dev.netlify.com/index.html" class="uri">https://infer-dev.netlify.com/index.html</a>
</li>
<li>
<p>Typically, the following steps are followed:</p>
<ul>
<li>
calculate the test statistic
</li>
</ul>
<pre><code>teststat &lt;- data %&gt;%
   specify(variable information) %&gt;%
   calculate(the form of the statistic)</code></pre>
</li>
<li>
create the null values of the statistic
</li>
</ul>
<pre><code>nullstats &lt;- data %&gt;%
   specify(variable information) %&gt;%
   hypothesize(give information about the type of null hypothesis) %&gt;%
   generate(repeat the process, provide info about the process) %&gt;%
   calculate(the form of the statistic)</code></pre>
<li>
visualize the null sampling distribution (of the statistic)
</li>
<pre><code>nullstats %&gt;%
   visualize()</code></pre>
<li>
visualize the null sampling distribution with the observed statistic overlaid
</li>
<pre><code>nullstats %&gt;%
   visualize() +
   shade_p_value(specify where the observed statistics is)</code></pre>
<li>
calculate the p-value
</li>
<pre><code>nullstats %&gt;%
   get_p_value(specify the observed statistic and the direction of the test)</code></pre>


<ul>
<li>If you happen to be using a function that exists in the infer package and also in a different package, you’ll want to tell the computer where to find the appropriate function. For example, <code><a href="https://infer.tidymodels.org/reference/specify.html">infer::specify()</a></code>.</li>
</ul>
</div>
<div id="probability-models" class="section level2" number="1.6">
<h2>
<span class="header-section-number">1.6</span> Probability models<a class="anchor" aria-label="anchor" href="#probability-models"><i class="fas fa-link"></i></a>
</h2>
<p>Generally, we’ve used the mosaic package which calculates probabilities <strong>and</strong> adds a graphical representation so that the calculated values can be checked against your intuition. Some of the functions we’ve used include:</p>
<ul>
<li><p><code><a href="https://projectmosaic.github.io/mosaic/reference/xpnorm.html">xpnorm()</a></code> normal probability</p></li>
<li><p><code><a href="https://projectmosaic.github.io/mosaic/reference/xpnorm.html">xqnorm()</a></code> normal quantile (also called: cutoff, z*)</p></li>
<li><p><code><a href="https://projectmosaic.github.io/mosaic/reference/pdist.html">xpbinom()</a></code> binomial probability</p></li>
<li><p>If you happen to be using a function that exists in the mosaic package and in a different package, you’ll want to tell the computer to use the appropriate function. For example, <code><a href="https://projectmosaic.github.io/mosaic/reference/xpnorm.html">mosaic::xpnorm()</a></code>.</p></li>
</ul>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="index.html">Class Information</a></div>
<div class="next"><a href="intro.html"><span class="header-section-number">2</span> Introduction</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#rfunc"><span class="header-section-number">1</span> R functions</a></li>
<li><a class="nav-link" href="#applets"><span class="header-section-number">1.1</span> Applets</a></li>
<li><a class="nav-link" href="#data-structure"><span class="header-section-number">1.2</span> Data Structure</a></li>
<li><a class="nav-link" href="#wrangling"><span class="header-section-number">1.3</span> Wrangling</a></li>
<li><a class="nav-link" href="#plotting"><span class="header-section-number">1.4</span> Plotting</a></li>
<li><a class="nav-link" href="#statistical-inference"><span class="header-section-number">1.5</span> Statistical Inference</a></li>
<li><a class="nav-link" href="#probability-models"><span class="header-section-number">1.6</span> Probability models</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/hardin47/website/blob/master/00-Rfunc.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/hardin47/website/edit/master/00-Rfunc.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Introduction to (Bio)Statistics</strong>" was written by Jo Hardin. It was last built on 2021-04-12.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
